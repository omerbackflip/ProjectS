"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const _ = require("lodash");
function parseRoutes(storage, options = {}) {
    return storage.actions.map((action) => ({
        action,
        controller: _.find(storage.controllers, {
            target: action.target,
        }),
        options,
        params: _.sortBy(storage.filterParamsWithTargetAndMethod(action.target, action.method), 'index'),
        responseHandlers: storage.filterResponseHandlersWithTargetAndMethod(action.target, action.method),
    }));
}
exports.parseRoutes = parseRoutes;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VNZXRhZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXJzZU1ldGFkYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNEJBQTJCO0FBd0IzQixTQUFnQixXQUFXLENBQ3pCLE9BQTRCLEVBQzVCLFVBQXFDLEVBQUU7SUFFdkMsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN0QyxNQUFNO1FBQ04sVUFBVSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUN0QyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07U0FDdEIsQ0FBMkI7UUFDNUIsT0FBTztRQUNQLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUNkLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFDckUsT0FBTyxDQUNSO1FBQ0QsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLHlDQUF5QyxDQUNqRSxNQUFNLENBQUMsTUFBTSxFQUNiLE1BQU0sQ0FBQyxNQUFNLENBQ2Q7S0FDRixDQUFDLENBQUMsQ0FBQTtBQUNMLENBQUM7QUFuQkQsa0NBbUJDIn0=